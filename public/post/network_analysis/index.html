<!DOCTYPE html>
<html lang="en-US" />
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Network Analysis &middot; </title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="canonical" href="/post/network_analysis/" />

     <meta name="description" content="&lt;p&gt;Original post here: &lt;a href=&#34;https://dannyjra.github.io/06_Network_Analysis/01_blog_caret_Tut.html&#34;&gt;https://dannyjra.github.io/06_Network_Analysis/01_blog_ca" /> 

     
    
    <meta name="twitter:card" content="summary_large_image"/>
    <meta name="twitter:image" content="/img/06_network_d3_BLOG.png"/>
    
 
    <meta name="twitter:title" content="Network Analysis"/>
    <meta name="twitter:description" content="&lt;p&gt;Original post here: &lt;a href=&#34;https://dannyjra.github.io/06_Network_Analysis/01_blog_caret_Tut.html&#34;&gt;https://dannyjra.github.io/06_Network_Analysis/01_blog_ca"/>
    <meta name="twitter:url" content="/post/network_analysis/" />
    <meta name="twitter:site" content="@Insider_DJR"/>

    <meta property="og:site_name" content="" />
    <meta property="og:title" content="Network Analysis &middot; Blog" />
    <meta property="og:url" content="/post/network_analysis/" />
    

    <meta property="og:type" content="article" />
    <meta property="og:description" content="&lt;p&gt;Original post here: &lt;a href=&#34;https://dannyjra.github.io/06_Network_Analysis/01_blog_caret_Tut.html&#34;&gt;https://dannyjra.github.io/06_Network_Analysis/01_blog_ca" />

    <meta property="article:published_time" content="2019-01-11T00:00:00Z" />
    <meta property="article:tag" content="Viz" />

    <meta property="og:image" content="/img/06_network_d3_BLOG.png"/>


    <meta name="generator" content="Hugo 0.55.1" />

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="/built/screen.css" /> 
    <link rel="stylesheet" type="text/css" href="/css/casper-two.css" /> 
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css" />
     <link rel="stylesheet" href="/css/overrides.css" /> 

     

</head>


<body class="post-template">
  <div class="site-wrapper"> 

<header class="site-header outer">
  <div class="inner">
    <nav class="site-nav">
      <div class="site-nav-left">
        <a class="site-nav-logo" href="#"><img src="/dr_small_png.png" alt="Blog" /></a>

        <ul class="nav" role="menu">
        
        
        
            <li class="" role="menuitem">
              <a href="/">Home</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/about/">About me</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/test/">Test</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/categories/python/">Python</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/categories/r/">R</a>
            </li>
        
            <li class="" role="menuitem">
              <a href="/categories/">Categories</a>
            </li>
        
      </ul></div>

      <div class="site-nav-right">
        <div class="social-links">
                    

                    <a class="social-link social-link-tw" href="https://twitter.com/Insider_DJR" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg></a>

                    <a class="social-link" href="https://github.com/DannyJRa" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>

                    <a class="social-link" href="https://www.linkedin.com/in/danny-rasch-2a22771b" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 50 512 512"><path d="M150.65,100.682c0,27.992-22.508,50.683-50.273,50.683c-27.765,0-50.273-22.691-50.273-50.683 C50.104,72.691,72.612,50,100.377,50C128.143,50,150.65,72.691,150.65,100.682z M143.294,187.333H58.277V462h85.017V187.333z M279.195,187.333h-81.541V462h81.541c0,0,0-101.877,0-144.181c0-38.624,17.779-61.615,51.807-61.615 c31.268,0,46.289,22.071,46.289,61.615c0,39.545,0,144.181,0,144.181h84.605c0,0,0-100.344,0-173.915 s-41.689-109.131-99.934-109.131s-82.768,45.369-82.768,45.369V187.333z" /></svg></a>

                    <a class="social-link" href="https://medium.com/@dannjrasch" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 195 195"><path d="M46.5340803,65.2157554 C46.6968378,63.6076572 46.0836,62.018231 44.8828198,60.93592 L32.6512605,46.2010582 L32.6512605,44 L70.6302521,44 L99.9859944,108.380952 L125.794585,44 L162,44 L162,46.2010582 L151.542017,56.2281011 C150.640424,56.9153477 150.193188,58.0448862 150.380019,59.1628454 L150.380019,132.837155 C150.193188,133.955114 150.640424,135.084652 151.542017,135.771899 L161.755369,145.798942 L161.755369,148 L110.38282,148 L110.38282,145.798942 L120.963119,135.527337 C122.002801,134.487948 122.002801,134.182246 122.002801,132.592593 L122.002801,73.0417402 L92.585901,147.755438 L88.6106443,147.755438 L54.3622782,73.0417402 L54.3622782,123.115814 C54.0767278,125.221069 54.7759199,127.3406 56.2581699,128.863022 L70.0186741,145.55438 L70.0186741,147.755438 L31,147.755438 L31,145.55438 L44.7605042,128.863022 C46.2319621,127.338076 46.8903838,125.204485 46.5340803,123.115814 L46.5340803,65.2157554 Z"/></svg></a>
        </div>  
            
      </div>

    </nav>  

  </div>
</header>

<main id="site-main" class="site-main outer" role="main">
  <div class="inner">
    
      <article class="post-full post"> 
    <header class="post-full-header">
        <section class="post-full-meta">
            <time class="post-full-meta-date" datetime="2019-01-11">11 January 2019</time>
                <span class="date-divider">/</span> <a href="/tags/viz/">#Viz</a>&nbsp;
        </section>
        <h1 class="post-full-title">Network Analysis</h1>
    </header>
    
    <figure class="post-full-image" style="background-image: url(/img/06_network_d3_BLOG.png)">
    </figure>

    <section class="post-full-content">
        <div class="kg-card-markdown">
        <p>Original post here: <a href="https://dannyjra.github.io/06_Network_Analysis/01_blog_caret_Tut.html">https://dannyjra.github.io/06_Network_Analysis/01_blog_caret_Tut.html</a></p>

<p>Add summary desdcription of blog</p>

<h1 id="introduction">Introduction</h1>

<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD</p>

<h1 id="though-not-specifically-designed-for-it-r-has-developed-into-a-powerful-tool-for-network-analysis-the-strength-of-r-in-comparison-to-stand-alone-network-analysis-software-there-is-an-ever-growing-range-of-packages-designed-to-make-r-a-complete-network-analysis-tool-significant-network-analysis-packages-for-r-include-the-statnet-suite-http-www-statnet-org-of-packages-and-igraph-http-igraph-org-in-addition-thomas-lin-pedersen-http-www-data-imaginist-com-has-recently-released-the-tidygraph-https-cran-r-project-org-web-packages-tidygraph-index-html-and-ggraph-https-cran-r-project-org-web-packages-ggraph-index-html-packages-that-leverage-the-power-of-igraph-in-a-manner-consistent-with-the-tidyverse-http-www-tidyverse-org-workflow">Though not specifically designed for it, R has developed into a powerful tool for network analysis. The strength of R in comparison to stand-alone network analysis software. There is an ever growing range of packages designed to make R a complete network analysis tool. Significant network analysis packages for R include the <a href="http://www.statnet.org">statnet suite</a> of packages and <a href="http://igraph.org"><code>igraph</code></a>.  In addition, <a href="http://www.data-imaginist.com">Thomas Lin Pedersen</a> has recently released the <a href="https://cran.r-project.org/web/packages/tidygraph/index.html"><code>tidygraph</code></a> and <a href="https://cran.r-project.org/web/packages/ggraph/index.html"><code>ggraph</code></a> packages that leverage the power of <code>igraph</code> in a manner consistent with the <a href="http://www.tidyverse.org">tidyverse</a> workflow.</h1>

<p>Though not specifically designed for it, R has developed into a powerful tool for network analysis. The strength of R in comparison to stand-alone network analysis software. There is an ever growing range of packages designed to make R a complete network analysis tool. Significant network analysis packages for R include the <a href="http://www.statnet.org">statnet suite</a> of packages and <a href="http://igraph.org"><code>igraph</code></a>. In addition, <a href="http://www.data-imaginist.com">Thomas Lin Pedersen</a> has recently released the <a href="https://cran.r-project.org/web/packages/tidygraph/index.html"><code>tidygraph</code></a> and <a href="https://cran.r-project.org/web/packages/ggraph/index.html"><code>ggraph</code></a> packages that leverage the power of <code>igraph</code> in a manner consistent with the <a href="http://www.tidyverse.org">tidyverse</a> workflow.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; e20269b6de0ef3ed9007fdbaa023051fd11cc83e</p>

<p>R can also be used to make interactive network graphs with the <a href="http://www.htmlwidgets.org">htmlwidgets framework</a> that translates R code to JavaScript.</p>

<p>This post begins with a short introduction to the basic vocabulary of network analysis, followed by a discussion of the process for getting data into the proper structure for network analysis adopted from <sup class="footnote-ref" id="fnref:1"><a href="#fn:1">1</a></sup>.</p>

<p>The network analysis packages have all implemented their own object classes. In this post, I will show how to create the specific object classes for the statnet suite of packages with the <a href="https://cran.r-project.org/web/packages/network/index.html"><code>network</code></a> package, as well as for <code>igraph</code> and <code>tidygraph</code>, which is based on the <code>igraph</code> implementation. Finally, I will turn to the creation of interactive graphs with the <a href="http://datastorm-open.github.io/visNetwork/"><code>vizNetwork</code></a> and <a href="http://christophergandrud.github.io/networkD3/"><code>networkD3</code></a> packages.</p>

<h2 id="network-analysis-nodes-and-edges">Network Analysis: Nodes and Edges</h2>

<p>The two primary aspects of networks are a multitude of separate entities and the connections between them. The vocabulary can be a bit technical and even inconsistent between different disciplines, packages, and software. The entities are referred to as <strong>nodes</strong> or <strong>vertices</strong> of a graph, while the connections are <strong>edges</strong> or <strong>links</strong>.</p>

<p>The network analysis packages need data to be in a particular form to create the special type of object used by each package. The object classes for <code>network</code>, <code>igraph</code>, and <code>tidygraph</code> are all based on adjacency matrices, also known as sociomatrices.<sup class="footnote-ref" id="fnref:2"><a href="#fn:2">2</a></sup> An <a href="https://en.wikipedia.org/wiki/Adjacency_matrix">adjacency matrix</a> is a square matrix in which the column and row names are the nodes of the network. Within the matrix a 1 indicates that there is a connection between the nodes, and a 0 indicates no connection. Adjacency matrices implement a very different data structure than data frames and do not fit within the <a href="http://www.tidyverse.org">tidyverse</a> workflow that I have used in my previous posts. Helpfully, the specialized network objects can also be created from an edge-list data frame, which do fit in the tidyverse workflow. In this post I will stick to the data analysis techniques of the tidyverse to create edge lists, which will then be converted to the specific object classes for <code>network</code>, <code>igraph</code>, and <code>tidygraph</code>.</p>

<p>An <strong>edge list</strong> is a data frame that contains a minimum of two columns, one column of nodes that are the source of a connection and another column of nodes that are the target of the connection. The nodes in the data are identified by unique IDs. If the distinction between source and target is meaningful, the network is <strong>directed</strong>. If the distinction is not meaningful, the network is <strong>undirected</strong>.</p>

<p>I will use integers beginning with one as node IDs.<sup class="footnote-ref" id="fnref:3"><a href="#fn:3">3</a></sup> An edge list can also contain additional columns that describe <strong>attributes</strong> of the edges such as a magnitude aspect for an edge. If the edges have a magnitude attribute the graph is considered <strong>weighted</strong>.</p>

<p>Edge lists contain all of the information necessary to create network objects, but sometimes it is preferable to also create a separate node list. At its simplest, a <strong>node list</strong> is a data frame with a single column — which I will label as &ldquo;id&rdquo; — that lists the node IDs found in the edge list. The advantage of creating a separate node list is the ability to add attribute columns to the data frame such as the names of the nodes or any kind of groupings. Below I give an example of minimal edge and node lists created with the <code>tibble()</code> function.</p>

<pre><code class="language-r">library(tidyverse)
</code></pre>

<pre><code>## ── Attaching packages ────────────────────────────────────────────────────────── tidyverse 1.2.1 ──
</code></pre>

<pre><code>## ✔ ggplot2 3.1.0       ✔ purrr   0.3.2  
## ✔ tibble  2.1.1       ✔ dplyr   0.8.0.1
## ✔ tidyr   0.8.3       ✔ stringr 1.4.0  
## ✔ readr   1.3.1       ✔ forcats 0.4.0
</code></pre>

<pre><code>## ── Conflicts ───────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
</code></pre>

<pre><code class="language-r">edge_list &lt;- tibble(from = c(1, 2, 2, 3, 4), to = c(2, 3, 4, 2, 1))
node_list &lt;- tibble(id = 1:4)

edge_list
</code></pre>

<pre><code>## # A tibble: 5 x 2
##    from    to
##   &lt;dbl&gt; &lt;dbl&gt;
## 1     1     2
## 2     2     3
## 3     2     4
## 4     3     2
## 5     4     1
</code></pre>

<pre><code class="language-r">node_list
</code></pre>

<pre><code>## # A tibble: 4 x 1
##      id
##   &lt;int&gt;
## 1     1
## 2     2
## 3     3
## 4     4
</code></pre>

<p>Compare this to an adjacency matrix with the same data.</p>

<pre><code>## network: Classes for Relational Data
## Version 1.15 created on 2019-04-01.
## copyright (c) 2005, Carter T. Butts, University of California-Irvine
##                     Mark S. Handcock, University of California -- Los Angeles
##                     David R. Hunter, Penn State University
##                     Martina Morris, University of Washington
##                     Skye Bender-deMoll, University of Washington
##  For citation information, type citation(&quot;network&quot;).
##  Type help(&quot;network-package&quot;) to get started.
</code></pre>

<pre><code>##   1 2 3 4
## 1 0 1 0 0
## 2 0 0 1 1
## 3 0 1 0 0
## 4 1 0 0 0
</code></pre>

<h2 id="creating-edge-and-node-lists">Creating edge and node lists</h2>

<p>This will necessitate the use of the <a href="http://dplyr.tidyverse.org">dplyr</a> package to manipulate the data frame of letters sent to Daniel and split it into two data frames ot <a href="http://r4ds.had.co.nz/tibbles.html">tibbles</a> with the structure of edge and node lists.</p>

<p>The first step is to load the <code>tidyverse</code> library to import and manipulate the data. Printing out the <code>letters</code> data frame shows that it contains four columns: &ldquo;writer&rdquo;, &ldquo;source&rdquo;, &ldquo;destination&rdquo;, and &ldquo;date&rdquo;. In this example, we will only deal with the &ldquo;source&rdquo; and &ldquo;destination&rdquo; columns.</p>

<pre><code class="language-r">library(tidyverse)
letters &lt;- read_csv(&quot;data/correspondence-data-1585.csv&quot;)

letters
</code></pre>

<pre><code>## # A tibble: 114 x 4
##    writer                  source  destination date      
##    &lt;chr&gt;                   &lt;chr&gt;   &lt;chr&gt;       &lt;date&gt;    
##  1 Meulen, Andries van der Antwerp Delft       1585-01-03
##  2 Meulen, Andries van der Antwerp Haarlem     1585-01-09
##  3 Meulen, Andries van der Antwerp Haarlem     1585-01-11
##  4 Meulen, Andries van der Antwerp Delft       1585-01-12
##  5 Meulen, Andries van der Antwerp Haarlem     1585-01-12
##  6 Meulen, Andries van der Antwerp Delft       1585-01-17
##  7 Meulen, Andries van der Antwerp Delft       1585-01-22
##  8 Meulen, Andries van der Antwerp Delft       1585-01-23
##  9 Della Faille, Marten    Antwerp Haarlem     1585-01-24
## 10 Meulen, Andries van der Antwerp Delft       1585-01-28
## # … with 104 more rows
</code></pre>

<h3 id="node-list">Node list</h3>

<p>Renaming the column with the city names as &ldquo;label&rdquo; to adopt the vocabulary used by network analysis packages.</p>

<pre><code class="language-r">sources &lt;- letters %&gt;%
  distinct(source) %&gt;%
  rename(label = source)

destinations &lt;- letters %&gt;%
  distinct(destination) %&gt;%
  rename(label = destination)
</code></pre>

<p>To create a single dataframe with a column with the unique locations we need to use a full join, because we want to include all unique places from both the sources of the letters and the destinations. The &ldquo;label&rdquo; column contains the names of the nodes, but we also want to have unique IDs for each city.</p>

<pre><code class="language-r">nodes &lt;- sources %&gt;% 
  full_join( destinations, by = &quot;label&quot;)%&gt;% 
  rowid_to_column(&quot;id&quot;)
nodes
</code></pre>

<pre><code>## # A tibble: 13 x 2
##       id label     
##    &lt;int&gt; &lt;chr&gt;     
##  1     1 Antwerp   
##  2     2 Haarlem   
##  3     3 Dordrecht 
##  4     4 Venice    
##  5     5 Lisse     
##  6     6 Het Vlie  
##  7     7 Hamburg   
##  8     8 Emden     
##  9     9 Amsterdam 
## 10    10 Delft     
## 11    11 The Hague 
## 12    12 Middelburg
## 13    13 Bremen
</code></pre>

<h3 id="edge-list">Edge list</h3>

<p>Creating an edge list is similar to the above, but it is complicated by the need to deal with two ID columns instead of one. We also want to create a weight column that will note the amount of letters sent between each set of nodes.</p>

<pre><code class="language-r">per_route &lt;- letters %&gt;%  
  group_by(source, destination) %&gt;%
  summarise(weight = n()) %&gt;% 
  ungroup()
per_route
</code></pre>

<pre><code>## # A tibble: 15 x 3
##    source    destination weight
##    &lt;chr&gt;     &lt;chr&gt;        &lt;int&gt;
##  1 Amsterdam Bremen           1
##  2 Antwerp   Delft           68
##  3 Antwerp   Haarlem          5
##  4 Antwerp   Middelburg       1
##  5 Antwerp   The Hague        2
##  6 Dordrecht Haarlem          1
##  7 Emden     Bremen           1
##  8 Haarlem   Bremen           2
##  9 Haarlem   Delft           26
## 10 Haarlem   Middelburg       1
## 11 Haarlem   The Hague        1
## 12 Hamburg   Bremen           1
## 13 Het Vlie  Bremen           1
## 14 Lisse     Delft            1
## 15 Venice    Haarlem          2
</code></pre>

<p>Like the node list, <code>per_route</code> now has the basic form that we want, but we again have the problem that the &ldquo;source&rdquo; and &ldquo;destination&rdquo; columns contain labels rather than IDs. What we need to do is link the IDs that have been assigned in <code>nodes</code> to each location in both the &ldquo;source&rdquo; and &ldquo;destination&rdquo; columns. This can be accomplished with another join function. In fact, it is necessary to perform two joins, one for the &ldquo;source&rdquo; column and one for &ldquo;destination.&rdquo; In this case, I will use a <code>left_join()</code> with <code>per_route</code> as the left data frame, because we want to maintain the number of rows in <code>per_route</code>.</p>

<pre><code class="language-r">edges &lt;- per_route %&gt;% 
  left_join(nodes, by = c(&quot;source&quot; = &quot;label&quot;)) %&gt;% 
  rename(from = id)

edges &lt;- edges %&gt;% 
  left_join(nodes, by = c(&quot;destination&quot; = &quot;label&quot;)) %&gt;% 
  rename(to = id)
</code></pre>

<p>Now that <code>edges</code> has &ldquo;from&rdquo; and &ldquo;to&rdquo; columns with node IDs, we need to reorder the columns to bring &ldquo;from&rdquo; and &ldquo;to&rdquo; to the left of the data frame. Currently, the <code>edges</code> data frame still contains the &ldquo;source&rdquo; and &ldquo;destination&rdquo; columns with the names of the cities that correspond with the IDs. However, this data is superfluous, since it is already present in <code>nodes</code>.</p>

<pre><code class="language-r">edges &lt;- select(edges, from, to, weight)
edges
</code></pre>

<pre><code>## # A tibble: 15 x 3
##     from    to weight
##    &lt;int&gt; &lt;int&gt;  &lt;int&gt;
##  1     9    13      1
##  2     1    10     68
##  3     1     2      5
##  4     1    12      1
##  5     1    11      2
##  6     3     2      1
##  7     8    13      1
##  8     2    13      2
##  9     2    10     26
## 10     2    12      1
## 11     2    11      1
## 12     7    13      1
## 13     6    13      1
## 14     5    10      1
## 15     4     2      2
</code></pre>

<p>The <code>edges</code> data frame does not look very impressive; it is three columns of integers. However, <code>edges</code> combined with <code>nodes</code> provides us with all of the information necessary to create network objects with the <code>network</code>, <code>igraph</code>, and <code>tidygraph</code> packages.</p>

<h2 id="creating-network-objects">Creating network objects</h2>

<p>The network object classes for <code>network</code>, <code>igraph</code>, and <code>tidygraph</code> are all closely related. It is possible to translate between a <code>network</code> object and an <code>igraph</code> object. However, it is best to keep the two packages and their objects separate. In fact, the capabilities of <code>network</code> and <code>igraph</code> overlap to such an extent that it is best practice to have only one of the packages loaded at a time. I will begin by going over the <code>network</code> package and then move to the <code>igraph</code> and <code>tidygraph</code> packages.</p>

<h3 id="network">network</h3>

<pre><code class="language-r">library(network)
</code></pre>

<p>Notice that the <code>network</code> package uses the nomenclature of vertices instead of nodes. The same is true of <code>igraph</code>. We then need to specify the type of data that has been entered into the first two arguments by specifying that the <code>matrix.type</code> is an <code>&quot;edgelist&quot;</code>. Finally, we set <code>ignore.eval</code> to <code>FALSE</code> so that our network can be weighted and take into account the number of letters along each route.</p>

<pre><code class="language-r">routes_network &lt;- network(edges, vertex.attr = nodes, matrix.type = &quot;edgelist&quot;, ignore.eval = FALSE)
routes_network
</code></pre>

<pre><code>##  Network attributes:
##   vertices = 13 
##   directed = TRUE 
##   hyper = FALSE 
##   loops = FALSE 
##   multiple = FALSE 
##   bipartite = FALSE 
##   total edges= 15 
##     missing edges= 0 
##     non-missing edges= 15 
## 
##  Vertex attribute names: 
##     id label vertex.names 
## 
##  Edge attribute names: 
##     weight
</code></pre>

<p>In this case, the only change that I make to the default <code>plot()</code> function for the <code>network</code> package is to increase the size of nodes with the <code>vertex.cex</code> argument to make the nodes more visible.</p>

<pre><code class="language-r">plot(routes_network, vertex.cex = 3)
</code></pre>

<p><img src="06_BLOG_files/figure-html/network-plot-1.png" alt="" /><!-- --></p>

<p>The <code>plot()</code> function with a <code>network</code> object uses the Fruchterman and Reingold algorithm to decide on the placement of the nodes. You can change the layout algorithm with the <code>mode</code> argument. Below, I layout the nodes in a circle.</p>

<pre><code class="language-r">plot(routes_network, vertex.cex = 3, mode = &quot;circle&quot;)
</code></pre>

<p><img src="06_BLOG_files/figure-html/network-circle-plot-1.png" alt="" /><!-- --></p>

<h3 id="igraph">igraph</h3>

<p>Let&rsquo;s now move on to discuss the <code>igraph</code> package. First, we need to clean up the environment in R by removing the <code>network</code> package so that it does not interfere with the <code>igraph</code> commands. We might as well also remove <code>routes_network</code> since we will not longer be using it. The <code>network</code> package can be removed with the <code>detach()</code> function, and <code>routes_network</code> is removed with <code>rm()</code>.[^7] After this, we can safely load <code>igraph</code>.</p>

<pre><code class="language-r">detach(package:network)
rm(routes_network)
library(igraph)
</code></pre>

<pre><code>## 
## Attaching package: 'igraph'
</code></pre>

<pre><code>## The following objects are masked from 'package:dplyr':
## 
##     as_data_frame, groups, union
</code></pre>

<pre><code>## The following objects are masked from 'package:purrr':
## 
##     compose, simplify
</code></pre>

<pre><code>## The following object is masked from 'package:tidyr':
## 
##     crossing
</code></pre>

<pre><code>## The following object is masked from 'package:tibble':
## 
##     as_data_frame
</code></pre>

<pre><code>## The following objects are masked from 'package:stats':
## 
##     decompose, spectrum
</code></pre>

<pre><code>## The following object is masked from 'package:base':
## 
##     union
</code></pre>

<p>To create an <code>igraph</code> object from an edge-list data frame we can use the <code>graph_from_data_frame()</code> function, which is a bit more straight forward than <code>network()</code>. There are three arguments in the <code>graph_from_data_frame()</code> function: d, vertices, and directed. Here, d refers to the edge list, vertices to the node list, and directed can be either <code>TRUE</code> or <code>FALSE</code> depending on whether the data is directed or undirected.</p>

<pre><code class="language-r">routes_igraph &lt;- graph_from_data_frame(d = edges, vertices = nodes, directed = TRUE)
routes_igraph
</code></pre>

<pre><code>## IGRAPH a34f6db DNW- 13 15 -- 
## + attr: name (v/c), label (v/c), weight (e/n)
## + edges from a34f6db (vertex names):
##  [1] 9-&gt;13 1-&gt;10 1-&gt;2  1-&gt;12 1-&gt;11 3-&gt;2  8-&gt;13 2-&gt;13 2-&gt;10 2-&gt;12 2-&gt;11
## [12] 7-&gt;13 6-&gt;13 5-&gt;10 4-&gt;2
</code></pre>

<p>Just as with the <code>network</code> package, we can create a plot with an <code>igraph</code> object through the <code>plot()</code> function. The only change that I make to the default here is to decrease the size of the arrows. By default <code>igraph</code> labels the nodes with the label column if there is one or with the IDs.</p>

<pre><code class="language-r">plot(routes_igraph, edge.arrow.size = 0.2)
</code></pre>

<p><img src="06_BLOG_files/figure-html/igraph-plot-1.png" alt="" /><!-- --></p>

<h3 id="tidygraph-and-ggraph">tidygraph and ggraph</h3>

<p>The <code>tidygraph</code> and <code>ggraph</code> packages are newcomers to the network analysis landscape, but together the two packages provide real advantages over the <code>network</code> and <code>igraph</code> packages. <code>tidygraph</code> and <code>ggraph</code> represent an attempt to <a href="http://www.data-imaginist.com/2017/Introducing-tidygraph/">bring network analysis into the tidyverse workflow</a>. <a href="https://cran.r-project.org/web/packages/tidygraph/index.html"><code>tidygraph</code></a> provides a way to create a network object that more closely resembles a <a href="http://r4ds.had.co.nz/tibbles.html">tibble or data frame</a>. This makes it possible to use many of the <code>dplyr</code> functions to manipulate network data. <a href="https://cran.r-project.org/web/packages/ggraph/index.html"><code>ggraph</code></a> gives a way to plot network graphs using the conventions and power of <code>ggplot2</code>. In other words, <code>tidygraph</code> and <code>ggraph</code> allow you to deal with network objects in a manner that is more consistent with the commands used for working with tibbles and data frames.</p>

<pre><code class="language-r">library(tidygraph)
</code></pre>

<pre><code>## 
## Attaching package: 'tidygraph'
</code></pre>

<pre><code>## The following object is masked from 'package:igraph':
## 
##     groups
</code></pre>

<pre><code>## The following object is masked from 'package:stats':
## 
##     filter
</code></pre>

<pre><code class="language-r">library(ggraph)
</code></pre>

<p>First, let&rsquo;s create a network object using <code>tidygraph</code>, which is called a <code>tbl_graph</code>. A <code>tbl_graph</code> consists of two tibbles: an edges tibble and a nodes tibble. Conveniently, the <code>tbl_graph</code> object class is a wrapper around an <code>igraph</code> object, meaning that at its basis a <code>tbl_graph</code> object is essentially an <code>igraph</code> object.[^8] The close link between <code>tbl_graph</code> and <code>igraph</code> objects results in two main ways to create a <code>tbl_graph</code> object. The first is to use an edge list and node list, using <code>tbl_graph()</code>. The arguments for the function are almost identical to those of <code>graph_from_data_frame()</code> with only a slight change to the names of the arguments.</p>

<pre><code class="language-r">routes_tidy &lt;- tbl_graph(nodes = nodes, edges = edges, directed = TRUE)
routes_tidy
</code></pre>

<pre><code>## # A tbl_graph: 13 nodes and 15 edges
## #
## # A directed acyclic simple graph with 1 component
## #
## # Node Data: 13 x 2 (active)
##      id label    
##   &lt;int&gt; &lt;chr&gt;    
## 1     1 Antwerp  
## 2     2 Haarlem  
## 3     3 Dordrecht
## 4     4 Venice   
## 5     5 Lisse    
## 6     6 Het Vlie 
## # … with 7 more rows
## #
## # Edge Data: 15 x 3
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     9    13      1
## 2     1    10     68
## 3     1     2      5
## # … with 12 more rows
</code></pre>

<p>Printing <code>routes_tidy</code> shows that it is a <code>tbl_graph</code> object with 13 nodes and 15 edges. The command also prints the first six rows of &ldquo;Node Data&rdquo; and the first three of &ldquo;Edge Data&rdquo;. Notice too that it states that the Node Data is active. The notion of an active tibble within a <code>tbl_graph</code> object makes it possible to manipulate the data in one tibble at a time. The nodes tibble is activated by default, but you can change which tibble is active with the <code>activate()</code> function. Thus, if I wanted to rearrange the rows in the edges tibble to list those with the highest &ldquo;weight&rdquo; first, I could use <code>activate()</code> and then <code>arrange()</code>. Here I simply print out the result rather than saving it.</p>

<pre><code class="language-r">routes_tidy %&gt;% 
  activate(edges) %&gt;% 
  arrange(desc(weight))
</code></pre>

<pre><code>## # A tbl_graph: 13 nodes and 15 edges
## #
## # A directed acyclic simple graph with 1 component
## #
## # Edge Data: 15 x 3 (active)
##    from    to weight
##   &lt;int&gt; &lt;int&gt;  &lt;int&gt;
## 1     1    10     68
## 2     2    10     26
## 3     1     2      5
## 4     1    11      2
## 5     2    13      2
## 6     4     2      2
## # … with 9 more rows
## #
## # Node Data: 13 x 2
##      id label    
##   &lt;int&gt; &lt;chr&gt;    
## 1     1 Antwerp  
## 2     2 Haarlem  
## 3     3 Dordrecht
## # … with 10 more rows
</code></pre>

<p>Since we do not need to further manipulate <code>routes_tidy</code>, we can plot the graph with <code>ggraph</code>. Like <a href="https://jessesadler.com/post/geocoding-with-r/#mapping-data">ggmap</a>, <code>ggraph</code> is an extension of <code>ggplot2</code>, making it easier to carry over basic <code>ggplot</code> skills to the creation of network plots. As in all network graphs, there are three main aspects to a <code>ggraph</code> plot: <a href="http://www.data-imaginist.com/2017/ggraph-introduction-nodes/">nodes</a>, <a href="http://www.data-imaginist.com/2017/ggraph-introduction-edges/">edges</a>, and <a href="http://www.data-imaginist.com/2017/ggraph-introduction-layouts/">layouts</a>. The <a href="https://cran.r-project.org/web/packages/ggraph/index.html">vignettes for the ggraph
package</a> helpfully cover the fundamental aspects of <code>ggraph</code> plots. <code>ggraph</code> adds special geoms to the basic set of <code>ggplot</code> geoms that are specifically designed for networks. Thus, there is a set of <code>geom_node</code> and <code>geom_edge</code> geoms. The basic plotting function is <code>ggraph()</code>, which takes the data to be used for the graph and the type of layout desired. Both of the arguments for <code>ggraph()</code> are built around <code>igraph</code>. Therefore, <code>ggraph()</code> can use either an <code>igraph</code> object or a <code>tbl_graph</code> object. In addition, the available layouts algorithms primarily derive from <code>igraph</code>. Lastly, <code>ggraph</code> introduces a special <code>ggplot</code> theme that provides better defaults for network graphs than the normal <code>ggplot</code> defaults. The <code>ggraph</code> theme can be set for a series of plots with the <code>set_graph_style()</code> command run before the graphs are plotted or by using <code>theme_graph()</code> in the individual plots. Here, I will use the latter method.</p>

<p>Let&rsquo;s see what a basic <code>ggraph</code> plot looks like. The plot begins with <code>ggraph()</code> and the data. I then add basic edge and node geoms. No arguments are necessary within the edge and node geoms, because they take the information from the data provided in <code>ggraph()</code>.</p>

<pre><code class="language-r">ggraph(routes_tidy) + geom_edge_link() + geom_node_point() + theme_graph()
</code></pre>

<pre><code>## Using `nicely` as default layout
</code></pre>

<p><img src="06_BLOG_files/figure-html/ggraph-basic-1.png" alt="" /><!-- --></p>

<p>We can show the &ldquo;weight&rdquo; of the edges — or the amount of letters sent along each route — by using width in the <code>geom_edge_link()</code> function. To get the width of the line to change according to the weight variable, we place the argument within an <code>aes()</code> function. In order to control the maximum and minimum width of the edges, I use <code>scale_edge_width()</code> and set a <code>range</code>. I choose a relatively small width for the minimum, because there is a significant difference between the maximum and minimum number of letters sent along the routes. We can also label the nodes with the names of the locations since there are relatively few nodes. Conveniently, <code>geom_node_text()</code> comes with a repel argument that ensures that the labels do not overlap with the nodes in a manner similar to the <a href="https://cran.r-project.org/web/packages/ggrepel/index.html">ggrepel package</a>. I add a bit of transparency to the edges with the alpha argument. I also use <code>labs()</code> to relabel the legend &ldquo;Letters&rdquo;.</p>

<pre><code class="language-r">ggraph(routes_tidy, layout = &quot;graphopt&quot;) + 
  geom_node_point() +
  geom_edge_link(aes(width = weight), alpha = 0.8) + 
  scale_edge_width(range = c(0.2, 2)) +
  geom_node_text(aes(label = label), repel = TRUE) +
  labs(edge_width = &quot;Letters&quot;) +
  theme_graph()
</code></pre>

<p><img src="06_BLOG_files/figure-html/ggraph-graphopt-1.png" alt="" /><!-- --></p>

<p>You can use <code>ggraph's</code> concept of <a href="http://www.data-imaginist.com/2017/ggraph-introduction-layouts/">circularity</a> to create arc diagrams.</p>

<pre><code class="language-r">ggraph(routes_igraph, layout = &quot;linear&quot;) + 
  geom_edge_arc(aes(width = weight), alpha = 0.8) + 
  scale_edge_width(range = c(0.2, 2)) +
  geom_node_text(aes(label = label)) +
  labs(edge_width = &quot;Letters&quot;) +
  theme_graph()
</code></pre>

<p><img src="06_BLOG_files/figure-html/ggraph-arc-1.png" alt="" /><!-- --></p>

<h1 id="interactive-network-graphs-with-visnetwork-and-networkd3">Interactive network graphs with <code>visNetwork</code> and <code>networkD3</code></h1>

<p>Here, I will show how to make graphs with the <a href="http://datastorm-open.github.io/visNetwork/"><code>visNetwork</code></a> and <a href="http://christophergandrud.github.io/networkD3/"><code>networkD3</code></a> packages. These two packages use different JavaScript libraries to create their graphs. <code>visNetwork</code> uses <a href="http://visjs.org/">vis.js</a>, while <code>networkD3</code> uses the popular <a href="http://d3js.org/">d3 visualization library</a> to make its graphs. One difficulty in working with both <code>visNetwork</code> and <code>networkD3</code> is that they expect edge lists and node lists to use specific nomenclature. The above data manipulation conforms to the basic structure for <code>visNetwork</code>, but some work will need to be done for <code>networkD3</code>. Despite this inconvenience, both packages possess a wide range of graphing capabilities and both can work with <code>igraph</code> objects and layouts.</p>

<pre><code class="language-r">library(visNetwork)
library(networkD3)
</code></pre>

<h2 id="visnetwork">visNetwork</h2>

<p>The <code>visNetwork()</code> function uses a nodes list and edges list to create an interactive graph. The nodes list must include an &ldquo;id&rdquo; column, and the edge list must have &ldquo;from&rdquo; and &ldquo;to&rdquo; columns. The function also plots the labels for the nodes, using the names of the cities from the &ldquo;label&rdquo; column in the node list. The resulting graph is fun to play around with. You can move the nodes and the graph will use an algorithm to keep the nodes properly spaced. You can also zoom in and out on the plot and move it around to re-center it.</p>

<pre><code class="language-r">visNetwork(nodes, edges)
</code></pre>

<p><!--html_preserve--><div id="htmlwidget-66ca9c5516946d2f79b1" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-66ca9c5516946d2f79b1">{&ldquo;x&rdquo;:{&ldquo;nodes&rdquo;:{&ldquo;id&rdquo;:[1,2,3,4,5,6,7,8,9,10,11,12,13],&ldquo;label&rdquo;:[&ldquo;Antwerp&rdquo;,&ldquo;Haarlem&rdquo;,&ldquo;Dordrecht&rdquo;,&ldquo;Venice&rdquo;,&ldquo;Lisse&rdquo;,&ldquo;Het Vlie&rdquo;,&ldquo;Hamburg&rdquo;,&ldquo;Emden&rdquo;,&ldquo;Amsterdam&rdquo;,&ldquo;Delft&rdquo;,&ldquo;The Hague&rdquo;,&ldquo;Middelburg&rdquo;,&ldquo;Bremen&rdquo;]},&ldquo;edges&rdquo;:{&ldquo;from&rdquo;:[9,1,1,1,1,3,8,2,2,2,2,7,6,5,4],&ldquo;to&rdquo;:[13,10,2,12,11,2,13,13,10,12,11,13,13,10,2],&ldquo;weight&rdquo;:[1,68,5,1,2,1,1,2,26,1,1,1,1,1,2]},&ldquo;nodesToDataframe&rdquo;:true,&ldquo;edgesToDataframe&rdquo;:true,&ldquo;options&rdquo;:{&ldquo;width&rdquo;:&ldquo;100%&rdquo;,&ldquo;height&rdquo;:&ldquo;100%&rdquo;,&ldquo;nodes&rdquo;:{&ldquo;shape&rdquo;:&ldquo;dot&rdquo;},&ldquo;manipulation&rdquo;:{&ldquo;enabled&rdquo;:false}},&ldquo;groups&rdquo;:null,&ldquo;width&rdquo;:null,&ldquo;height&rdquo;:null,&ldquo;idselection&rdquo;:{&ldquo;enabled&rdquo;:false},&ldquo;byselection&rdquo;:{&ldquo;enabled&rdquo;:false},&ldquo;main&rdquo;:null,&ldquo;submain&rdquo;:null,&ldquo;footer&rdquo;:null,&ldquo;background&rdquo;:&ldquo;rgba(0, 0, 0, 0)&rdquo;},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]}</script><!--/html_preserve--></p>

<p><code>visNetwork</code> can use <code>igraph</code> layouts, providing a large variety of possible layouts. In addition, you can use <code>visIgraph()</code> to plot an <code>igraph</code> object directly. Here, I will stick with the <code>nodes</code> and <code>edges</code> workflow and use an <code>igraph</code> layout to customize the graph. I will also add a variable to change the width of the edge as we did with <code>ggraph</code>. <code>visNetwork()</code> uses column names from the edge and node lists to plot network attributes instead of arguments within the function call. This means that it is necessary to do some data manipulation to get a &ldquo;width&rdquo; column in the edge list. The width attribute for <code>visNetwork()</code> does not scale the values, so we have to do this manually. Both of these actions can be done with the <code>mutate()</code> function and some simple arithmetic. Here, I create a new column in <code>edges</code> and scale the weight values by dividing by 5. Adding 1 to the result provides a way to create a minimum width.</p>

<pre><code class="language-r">edges &lt;- mutate(edges, width = weight/5 + 1)
</code></pre>

<p>Once this is done, we can create a graph with variable edge widths. I also choose a layout algorithm from <code>igraph</code> and add arrows to the edges, placing them in the middle of the edge.</p>

<pre><code class="language-r">visNetwork(nodes, edges) %&gt;% 
  visIgraphLayout(layout = &quot;layout_with_fr&quot;) %&gt;% 
  visEdges(arrows = &quot;middle&quot;)
</code></pre>

<p><!--html_preserve--><div id="htmlwidget-6df131e348108934739a" style="width:672px;height:480px;" class="visNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-6df131e348108934739a">{&ldquo;x&rdquo;:{&ldquo;nodes&rdquo;:{&ldquo;id&rdquo;:[1,2,3,4,5,6,7,8,9,10,11,12,13],&ldquo;label&rdquo;:[&ldquo;Antwerp&rdquo;,&ldquo;Haarlem&rdquo;,&ldquo;Dordrecht&rdquo;,&ldquo;Venice&rdquo;,&ldquo;Lisse&rdquo;,&ldquo;Het Vlie&rdquo;,&ldquo;Hamburg&rdquo;,&ldquo;Emden&rdquo;,&ldquo;Amsterdam&rdquo;,&ldquo;Delft&rdquo;,&ldquo;The Hague&rdquo;,&ldquo;Middelburg&rdquo;,&ldquo;Bremen&rdquo;],&ldquo;x&rdquo;:[0.423424904284426,0.189646977186259,-0.484050069794308,0.726042929546187,1,-0.834307275657799,-1,0.132832044474091,-0.359890364213244,0.646385354581663,0.771802050181974,-0.0246503608400312,-0.312083548982779],&ldquo;y&rdquo;:[-0.413657987787449,-0.102558122164406,-0.198349716842837,0.145468373893085,-1,0.871244057353747,0.567173357893561,0.876669961333215,1,-0.620948505970483,-0.231483993646624,-0.461416882729945,0.561237055144782]},&ldquo;edges&rdquo;:{&ldquo;from&rdquo;:[9,1,1,1,1,3,8,2,2,2,2,7,6,5,4],&ldquo;to&rdquo;:[13,10,2,12,11,2,13,13,10,12,11,13,13,10,2],&ldquo;weight&rdquo;:[1,68,5,1,2,1,1,2,26,1,1,1,1,1,2],&ldquo;width&rdquo;:[1.2,14.6,2,1.2,1.4,1.2,1.2,1.4,6.2,1.2,1.2,1.2,1.2,1.2,1.4]},&ldquo;nodesToDataframe&rdquo;:true,&ldquo;edgesToDataframe&rdquo;:true,&ldquo;options&rdquo;:{&ldquo;width&rdquo;:&ldquo;100%&rdquo;,&ldquo;height&rdquo;:&ldquo;100%&rdquo;,&ldquo;nodes&rdquo;:{&ldquo;shape&rdquo;:&ldquo;dot&rdquo;,&ldquo;physics&rdquo;:false},&ldquo;manipulation&rdquo;:{&ldquo;enabled&rdquo;:false},&ldquo;edges&rdquo;:{&ldquo;smooth&rdquo;:false,&ldquo;arrows&rdquo;:&ldquo;middle&rdquo;},&ldquo;physics&rdquo;:{&ldquo;stabilization&rdquo;:false}},&ldquo;groups&rdquo;:null,&ldquo;width&rdquo;:null,&ldquo;height&rdquo;:null,&ldquo;idselection&rdquo;:{&ldquo;enabled&rdquo;:false},&ldquo;byselection&rdquo;:{&ldquo;enabled&rdquo;:false},&ldquo;main&rdquo;:null,&ldquo;submain&rdquo;:null,&ldquo;footer&rdquo;:null,&ldquo;background&rdquo;:&ldquo;rgba(0, 0, 0, 0)&rdquo;,&ldquo;igraphlayout&rdquo;:{&ldquo;type&rdquo;:&ldquo;square&rdquo;}},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]}</script><!--/html_preserve--></p>

<h2 id="networkd3">networkD3</h2>

<h3 id="interacting-with-igraph">Interacting with igraph</h3>

<p>A little more work is necessary to prepare the data to create a <code>networkD3</code> graph. To make a <code>networkD3</code> graph with a edge and node list requires that the IDs be a series of numeric integers that begin with 0. Currently, the node IDs for our data begin with 1, and so we have to do a bit of data manipulation.</p>

<pre><code class="language-r">nodes_d3 &lt;- mutate(nodes, id = id - 1)
edges_d3 &lt;- mutate(edges, from = from - 1, to = to - 1)
</code></pre>

<p>It is now possible to plot a <code>networkD3</code> graph. Unlike <code>visNetwork()</code>, the <code>forceNetwork()</code> function uses a series of arguments to adjust the graph and plot network attributes. The &ldquo;Links&rdquo; and &ldquo;Nodes&rdquo; arguments provide the data for the plot in the form of edge and node lists. The function also requires &ldquo;NodeID&rdquo; and &ldquo;Group&rdquo; arguments.</p>

<pre><code class="language-r">forceNetwork(Links = edges_d3, Nodes = nodes_d3, Source = &quot;from&quot;, Target = &quot;to&quot;, 
             NodeID = &quot;label&quot;, Group = &quot;id&quot;, Value = &quot;weight&quot;, 
             opacity = 1, fontSize = 16, zoom = TRUE)
</code></pre>

<pre><code>## Links is a tbl_df. Converting to a plain data frame.
</code></pre>

<pre><code>## Nodes is a tbl_df. Converting to a plain data frame.
</code></pre>

<p><!--html_preserve--><div id="htmlwidget-17fd207a87b323b06dfc" style="width:672px;height:480px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-17fd207a87b323b06dfc">{&ldquo;x&rdquo;:{&ldquo;links&rdquo;:{&ldquo;source&rdquo;:[8,0,0,0,0,2,7,1,1,1,1,6,5,4,3],&ldquo;target&rdquo;:[12,9,1,11,10,1,12,12,9,11,10,12,12,9,1],&ldquo;value&rdquo;:[1,68,5,1,2,1,1,2,26,1,1,1,1,1,2],&ldquo;colour&rdquo;:[&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;]},&ldquo;nodes&rdquo;:{&ldquo;name&rdquo;:[&ldquo;Antwerp&rdquo;,&ldquo;Haarlem&rdquo;,&ldquo;Dordrecht&rdquo;,&ldquo;Venice&rdquo;,&ldquo;Lisse&rdquo;,&ldquo;Het Vlie&rdquo;,&ldquo;Hamburg&rdquo;,&ldquo;Emden&rdquo;,&ldquo;Amsterdam&rdquo;,&ldquo;Delft&rdquo;,&ldquo;The Hague&rdquo;,&ldquo;Middelburg&rdquo;,&ldquo;Bremen&rdquo;],&ldquo;group&rdquo;:[0,1,2,3,4,5,6,7,8,9,10,11,12]},&ldquo;options&rdquo;:{&ldquo;NodeID&rdquo;:&ldquo;label&rdquo;,&ldquo;Group&rdquo;:&ldquo;id&rdquo;,&ldquo;colourScale&rdquo;:&ldquo;d3.scaleOrdinal(d3.schemeCategory20);&rdquo;,&ldquo;fontSize&rdquo;:16,&ldquo;fontFamily&rdquo;:&ldquo;serif&rdquo;,&ldquo;clickTextSize&rdquo;:40,&ldquo;linkDistance&rdquo;:50,&ldquo;linkWidth&rdquo;:&ldquo;function(d) { return Math.sqrt(d.value); }&rdquo;,&ldquo;charge&rdquo;:-30,&ldquo;opacity&rdquo;:1,&ldquo;zoom&rdquo;:true,&ldquo;legend&rdquo;:false,&ldquo;arrows&rdquo;:false,&ldquo;nodesize&rdquo;:false,&ldquo;radiusCalculation&rdquo;:&rdquo; Math.sqrt(d.nodesize)+6&rdquo;,&ldquo;bounded&rdquo;:false,&ldquo;opacityNoHover&rdquo;:0,&ldquo;clickAction&rdquo;:null}},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]}</script><!--/html_preserve--></p>

<p>You can use the  igraph_to_networkD3 function converts igraph graphs to lists that work well with networkD3. For example:</p>

<pre><code class="language-r"># Load igraph
library(igraph)

# Use igraph to make the graph and find membership
karate &lt;- make_graph(&quot;Zachary&quot;)
wc &lt;- cluster_walktrap(karate)
members &lt;- membership(wc)

# Convert to object suitable for networkD3
karate_d3 &lt;- igraph_to_networkD3(karate, group = members)

# Create force directed network plot
forceNetwork(Links = karate_d3$links, Nodes = karate_d3$nodes, 
             Source = 'source', Target = 'target', 
             NodeID = 'name', Group = 'group')
</code></pre>

<p><!--html_preserve--><div id="htmlwidget-ab82e7d3b16e0eb93d08" style="width:672px;height:480px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-ab82e7d3b16e0eb93d08">{&ldquo;x&rdquo;:{&ldquo;links&rdquo;:{&ldquo;source&rdquo;:[0,0,1,0,1,2,0,0,0,5,4,0,1,3,2,2,0,2,5,4,0,0,0,3,3,2,0,1,5,6,0,1,1,0,1,0,23,24,23,24,2,2,26,23,8,1,0,28,25,24,20,8,15,2,22,31,14,30,29,23,18,9,8,28,20,14,30,15,18,19,26,27,22,13,29,23,31,32],&ldquo;target&rdquo;:[1,2,2,3,3,3,4,5,6,6,6,7,7,7,7,8,8,9,10,10,10,11,12,12,13,13,13,13,16,16,17,17,19,19,21,21,25,25,27,27,27,28,29,29,30,30,31,31,31,31,32,32,32,32,32,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33],&ldquo;colour&rdquo;:[&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;]},&ldquo;nodes&rdquo;:{&ldquo;name&rdquo;:[&ldquo;1&rdquo;,&ldquo;2&rdquo;,&ldquo;3&rdquo;,&ldquo;4&rdquo;,&ldquo;5&rdquo;,&ldquo;6&rdquo;,&ldquo;7&rdquo;,&ldquo;8&rdquo;,&ldquo;9&rdquo;,&ldquo;10&rdquo;,&ldquo;11&rdquo;,&ldquo;12&rdquo;,&ldquo;13&rdquo;,&ldquo;14&rdquo;,&ldquo;15&rdquo;,&ldquo;16&rdquo;,&ldquo;17&rdquo;,&ldquo;18&rdquo;,&ldquo;19&rdquo;,&ldquo;20&rdquo;,&ldquo;21&rdquo;,&ldquo;22&rdquo;,&ldquo;23&rdquo;,&ldquo;24&rdquo;,&ldquo;25&rdquo;,&ldquo;26&rdquo;,&ldquo;27&rdquo;,&ldquo;28&rdquo;,&ldquo;29&rdquo;,&ldquo;30&rdquo;,&ldquo;31&rdquo;,&ldquo;32&rdquo;,&ldquo;33&rdquo;,&ldquo;34&rdquo;],&ldquo;group&rdquo;:[1,1,2,1,5,5,5,1,2,2,5,1,1,2,3,3,5,1,3,1,3,1,3,4,4,4,3,4,2,3,2,2,3,3]},&ldquo;options&rdquo;:{&ldquo;NodeID&rdquo;:&ldquo;name&rdquo;,&ldquo;Group&rdquo;:&ldquo;group&rdquo;,&ldquo;colourScale&rdquo;:&ldquo;d3.scaleOrdinal(d3.schemeCategory20);&rdquo;,&ldquo;fontSize&rdquo;:7,&ldquo;fontFamily&rdquo;:&ldquo;serif&rdquo;,&ldquo;clickTextSize&rdquo;:17.5,&ldquo;linkDistance&rdquo;:50,&ldquo;linkWidth&rdquo;:&ldquo;function(d) { return Math.sqrt(d.value); }&rdquo;,&ldquo;charge&rdquo;:-30,&ldquo;opacity&rdquo;:0.6,&ldquo;zoom&rdquo;:false,&ldquo;legend&rdquo;:false,&ldquo;arrows&rdquo;:false,&ldquo;nodesize&rdquo;:false,&ldquo;radiusCalculation&rdquo;:&rdquo; Math.sqrt(d.nodesize)+6&rdquo;,&ldquo;bounded&rdquo;:false,&ldquo;opacityNoHover&rdquo;:0,&ldquo;clickAction&rdquo;:null}},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]}</script><!--/html_preserve--></p>

<p>It currently supports the following types of network graphs<sup class="footnote-ref" id="fnref:4"><a href="#fn:4">4</a></sup>:</p>

<h3 id="force-directed-networks">Force directed networks</h3>

<pre><code class="language-r"># Load data
data(MisLinks)
data(MisNodes)

# Plot
forceNetwork(Links = MisLinks, Nodes = MisNodes,
            Source = &quot;source&quot;, Target = &quot;target&quot;,
            Value = &quot;value&quot;, NodeID = &quot;name&quot;,
            Group = &quot;group&quot;, opacity = 0.8)
</code></pre>

<p><!--html_preserve--><div id="htmlwidget-8cd034aff49c37e43950" style="width:672px;height:480px;" class="forceNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-8cd034aff49c37e43950">{&ldquo;x&rdquo;:{&ldquo;links&rdquo;:{&ldquo;source&rdquo;:[1,2,3,3,4,5,6,7,8,9,11,11,11,11,12,13,14,15,17,18,18,19,19,19,20,20,20,20,21,21,21,21,21,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,24,24,25,25,25,26,26,26,26,27,27,27,27,27,28,28,29,29,29,30,31,31,31,31,32,33,33,34,34,35,35,35,36,36,36,36,37,37,37,37,37,38,38,38,38,38,38,39,40,41,41,42,42,42,43,43,43,44,44,45,47,48,48,48,48,49,49,50,50,51,51,51,52,52,53,54,54,54,55,55,55,55,55,55,55,55,55,55,56,56,57,57,57,58,58,58,58,58,59,59,59,59,60,60,60,61,61,61,61,61,61,62,62,62,62,62,62,62,62,63,63,63,63,63,63,63,63,64,64,64,64,64,64,64,64,64,64,65,65,65,65,65,65,65,65,65,65,66,66,66,66,66,66,66,66,66,67,68,68,68,68,68,68,69,69,69,69,69,69,69,70,70,70,70,70,70,70,70,71,71,71,71,71,71,71,71,72,72,72,73,74,74,75,75,75,75,75,75,75,76,76,76,76,76,76,76],&ldquo;target&rdquo;:[0,0,0,2,0,0,0,0,0,0,10,3,2,0,11,11,11,11,16,16,17,16,17,18,16,17,18,19,16,17,18,19,20,16,17,18,19,20,21,16,17,18,19,20,21,22,12,11,23,11,24,23,11,24,11,16,25,11,23,25,24,26,11,27,23,27,11,23,30,11,23,27,11,11,27,11,29,11,34,29,34,35,11,29,34,35,36,11,29,34,35,36,37,11,29,25,25,24,25,41,25,24,11,26,27,28,11,28,46,47,25,27,11,26,11,49,24,49,26,11,51,39,51,51,49,26,51,49,39,54,26,11,16,25,41,48,49,55,55,41,48,55,48,27,57,11,58,55,48,57,48,58,59,48,58,60,59,57,55,55,58,59,48,57,41,61,60,59,48,62,57,58,61,60,55,55,62,48,63,58,61,60,59,57,11,63,64,48,62,58,61,60,59,57,55,64,58,59,62,65,48,63,61,60,57,25,11,24,27,48,41,25,68,11,24,27,48,41,25,69,68,11,24,27,41,58,27,69,68,70,11,48,41,25,26,27,11,48,48,73,69,68,25,48,41,70,71,64,65,66,63,62,48,58],&ldquo;value&rdquo;:[1,8,10,6,1,1,1,1,2,1,1,3,3,5,1,1,1,1,4,4,4,4,4,4,3,3,3,4,3,3,3,3,5,3,3,3,3,4,4,3,3,3,3,4,4,4,2,9,2,7,13,1,12,4,31,1,1,17,5,5,1,1,8,1,1,1,2,1,2,3,2,1,1,2,1,3,2,3,3,2,2,2,2,1,2,2,2,2,1,2,2,2,2,2,1,1,1,2,3,2,2,1,3,1,1,3,1,2,1,2,1,1,1,3,2,1,1,9,2,2,1,1,1,2,1,1,6,12,1,1,21,19,1,2,5,4,1,1,1,1,1,7,7,6,1,4,15,5,6,2,1,4,2,2,6,2,5,1,1,9,17,13,7,2,1,6,3,5,5,6,2,4,3,2,1,5,12,5,4,10,6,2,9,1,1,5,7,3,5,5,5,2,5,1,2,3,3,1,2,2,1,1,1,1,3,5,1,1,1,1,1,6,6,1,1,2,1,1,4,4,4,1,1,1,1,1,1,2,2,2,1,1,1,1,2,1,1,2,2,3,3,3,3,1,1,1,1,1,1,1,1,1,1,1],&ldquo;colour&rdquo;:[&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;,&ldquo;#666&rdquo;]},&ldquo;nodes&rdquo;:{&ldquo;name&rdquo;:[&ldquo;Myriel&rdquo;,&ldquo;Napoleon&rdquo;,&ldquo;Mlle.Baptistine&rdquo;,&ldquo;Mme.Magloire&rdquo;,&ldquo;CountessdeLo&rdquo;,&ldquo;Geborand&rdquo;,&ldquo;Champtercier&rdquo;,&ldquo;Cravatte&rdquo;,&ldquo;Count&rdquo;,&ldquo;OldMan&rdquo;,&ldquo;Labarre&rdquo;,&ldquo;Valjean&rdquo;,&ldquo;Marguerite&rdquo;,&ldquo;Mme.deR&rdquo;,&ldquo;Isabeau&rdquo;,&ldquo;Gervais&rdquo;,&ldquo;Tholomyes&rdquo;,&ldquo;Listolier&rdquo;,&ldquo;Fameuil&rdquo;,&ldquo;Blacheville&rdquo;,&ldquo;Favourite&rdquo;,&ldquo;Dahlia&rdquo;,&ldquo;Zephine&rdquo;,&ldquo;Fantine&rdquo;,&ldquo;Mme.Thenardier&rdquo;,&ldquo;Thenardier&rdquo;,&ldquo;Cosette&rdquo;,&ldquo;Javert&rdquo;,&ldquo;Fauchelevent&rdquo;,&ldquo;Bamatabois&rdquo;,&ldquo;Perpetue&rdquo;,&ldquo;Simplice&rdquo;,&ldquo;Scaufflaire&rdquo;,&ldquo;Woman1&rdquo;,&ldquo;Judge&rdquo;,&ldquo;Champmathieu&rdquo;,&ldquo;Brevet&rdquo;,&ldquo;Chenildieu&rdquo;,&ldquo;Cochepaille&rdquo;,&ldquo;Pontmercy&rdquo;,&ldquo;Boulatruelle&rdquo;,&ldquo;Eponine&rdquo;,&ldquo;Anzelma&rdquo;,&ldquo;Woman2&rdquo;,&ldquo;MotherInnocent&rdquo;,&ldquo;Gribier&rdquo;,&ldquo;Jondrette&rdquo;,&ldquo;Mme.Burgon&rdquo;,&ldquo;Gavroche&rdquo;,&ldquo;Gillenormand&rdquo;,&ldquo;Magnon&rdquo;,&ldquo;Mlle.Gillenormand&rdquo;,&ldquo;Mme.Pontmercy&rdquo;,&ldquo;Mlle.Vaubois&rdquo;,&ldquo;Lt.Gillenormand&rdquo;,&ldquo;Marius&rdquo;,&ldquo;BaronessT&rdquo;,&ldquo;Mabeuf&rdquo;,&ldquo;Enjolras&rdquo;,&ldquo;Combeferre&rdquo;,&ldquo;Prouvaire&rdquo;,&ldquo;Feuilly&rdquo;,&ldquo;Courfeyrac&rdquo;,&ldquo;Bahorel&rdquo;,&ldquo;Bossuet&rdquo;,&ldquo;Joly&rdquo;,&ldquo;Grantaire&rdquo;,&ldquo;MotherPlutarch&rdquo;,&ldquo;Gueulemer&rdquo;,&ldquo;Babet&rdquo;,&ldquo;Claquesous&rdquo;,&ldquo;Montparnasse&rdquo;,&ldquo;Toussaint&rdquo;,&ldquo;Child1&rdquo;,&ldquo;Child2&rdquo;,&ldquo;Brujon&rdquo;,&ldquo;Mme.Hucheloup&rdquo;],&ldquo;group&rdquo;:[1,1,1,1,1,1,1,1,1,1,2,2,3,2,2,2,3,3,3,3,3,3,3,3,4,4,5,4,0,2,3,2,2,2,2,2,2,2,2,4,6,4,4,5,0,0,7,7,8,5,5,5,5,5,5,8,5,8,8,8,8,8,8,8,8,8,8,9,4,4,4,4,5,10,10,4,8]},&ldquo;options&rdquo;:{&ldquo;NodeID&rdquo;:&ldquo;name&rdquo;,&ldquo;Group&rdquo;:&ldquo;group&rdquo;,&ldquo;colourScale&rdquo;:&ldquo;d3.scaleOrdinal(d3.schemeCategory20);&rdquo;,&ldquo;fontSize&rdquo;:7,&ldquo;fontFamily&rdquo;:&ldquo;serif&rdquo;,&ldquo;clickTextSize&rdquo;:17.5,&ldquo;linkDistance&rdquo;:50,&ldquo;linkWidth&rdquo;:&ldquo;function(d) { return Math.sqrt(d.value); }&rdquo;,&ldquo;charge&rdquo;:-30,&ldquo;opacity&rdquo;:0.8,&ldquo;zoom&rdquo;:false,&ldquo;legend&rdquo;:false,&ldquo;arrows&rdquo;:false,&ldquo;nodesize&rdquo;:false,&ldquo;radiusCalculation&rdquo;:&rdquo; Math.sqrt(d.nodesize)+6&rdquo;,&ldquo;bounded&rdquo;:false,&ldquo;opacityNoHover&rdquo;:0,&ldquo;clickAction&rdquo;:null}},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]}</script><!--/html_preserve--></p>

<h3 id="sankey-diagrams-with-sankeynetwork">Sankey diagrams with sankeyNetwork</h3>

<p>One of the main benefits of <code>networkD3</code> is that it implements a <a href="https://bost.ocks.org/mike/sankey/">d3-styled Sankey diagram</a>.  This graph does not require a group argument, and the only other change is the addition of a &ldquo;unit.&rdquo; This provides a label for the values that pop up in a tool tip when your cursor hovers over a diagram element.</p>

<pre><code class="language-r"># Load energy projection data
# Load energy projection data
URL &lt;- paste0(
        &quot;https://cdn.rawgit.com/christophergandrud/networkD3/&quot;,
        &quot;master/JSONdata/energy.json&quot;)
Energy &lt;- jsonlite::fromJSON(URL)
# Plot
sankeyNetwork(Links = Energy$links, Nodes = Energy$nodes, Source = &quot;source&quot;,
             Target = &quot;target&quot;, Value = &quot;value&quot;, NodeID = &quot;name&quot;,
             units = &quot;TWh&quot;, fontSize = 12, nodeWidth = 30)
</code></pre>

<p><!--html_preserve--><div id="htmlwidget-f626679e1ecd9aa95f65" style="width:672px;height:480px;" class="sankeyNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-f626679e1ecd9aa95f65">{&ldquo;x&rdquo;:{&ldquo;links&rdquo;:{&ldquo;source&rdquo;:[0,1,1,1,1,6,7,8,10,9,11,11,11,15,15,15,15,15,15,15,15,15,15,15,23,25,5,5,5,5,5,27,17,17,28,29,2,2,2,2,2,2,2,2,34,24,35,36,38,37,39,39,40,40,41,42,43,43,4,4,4,26,26,26,44,45,46,47],&ldquo;target&rdquo;:[1,2,3,4,5,2,4,9,9,4,12,13,14,16,14,17,12,18,19,13,3,20,21,22,24,24,13,3,26,19,12,15,28,3,18,15,12,30,18,31,32,19,33,20,1,5,26,37,37,2,4,1,14,13,15,14,42,41,19,26,12,15,3,11,15,1,15,15],&ldquo;value&rdquo;:[124.729,0.597,26.862,280.322,81.144,35,35,11.606,63.965,75.571,10.639,22.505,46.184,104.453,113.726,27.14,342.165,37.797,4.412,40.858,56.691,7.863,90.008,93.494,40.719,82.233,0.129,1.401,151.891,2.096,48.58,7.013,20.897,6.242,20.897,6.995,121.066,128.69,135.835,14.458,206.267,3.64,33.218,4.413,4.375,122.952,839.978,504.287,107.703,611.99,56.587,77.81,193.026,70.672,59.901,19.263,19.263,59.901,0.882,400.12,46.477,525.531,787.129,79.329,9.452,182.01,19.013,289.366]},&ldquo;nodes&rdquo;:{&ldquo;name&rdquo;:[&ldquo;Agricultural &lsquo;waste&rsquo;&rdquo;,&ldquo;Bio-conversion&rdquo;,&ldquo;Liquid&rdquo;,&ldquo;Losses&rdquo;,&ldquo;Solid&rdquo;,&ldquo;Gas&rdquo;,&ldquo;Biofuel imports&rdquo;,&ldquo;Biomass imports&rdquo;,&ldquo;Coal imports&rdquo;,&ldquo;Coal&rdquo;,&ldquo;Coal reserves&rdquo;,&ldquo;District heating&rdquo;,&ldquo;Industry&rdquo;,&ldquo;Heating and cooling - commercial&rdquo;,&ldquo;Heating and cooling - homes&rdquo;,&ldquo;Electricity grid&rdquo;,&ldquo;Over generation / exports&rdquo;,&ldquo;H2 conversion&rdquo;,&ldquo;Road transport&rdquo;,&ldquo;Agriculture&rdquo;,&ldquo;Rail transport&rdquo;,&ldquo;Lighting &amp; appliances - commercial&rdquo;,&ldquo;Lighting &amp; appliances - homes&rdquo;,&ldquo;Gas imports&rdquo;,&ldquo;Ngas&rdquo;,&ldquo;Gas reserves&rdquo;,&ldquo;Thermal generation&rdquo;,&ldquo;Geothermal&rdquo;,&ldquo;H2&rdquo;,&ldquo;Hydro&rdquo;,&ldquo;International shipping&rdquo;,&ldquo;Domestic aviation&rdquo;,&ldquo;International aviation&rdquo;,&ldquo;National navigation&rdquo;,&ldquo;Marine algae&rdquo;,&ldquo;Nuclear&rdquo;,&ldquo;Oil imports&rdquo;,&ldquo;Oil&rdquo;,&ldquo;Oil reserves&rdquo;,&ldquo;Other waste&rdquo;,&ldquo;Pumped heat&rdquo;,&ldquo;Solar PV&rdquo;,&ldquo;Solar Thermal&rdquo;,&ldquo;Solar&rdquo;,&ldquo;Tidal&rdquo;,&ldquo;UK land based bioenergy&rdquo;,&ldquo;Wave&rdquo;,&ldquo;Wind&rdquo;],&ldquo;group&rdquo;:[&ldquo;Agricultural &lsquo;waste&rsquo;&rdquo;,&ldquo;Bio-conversion&rdquo;,&ldquo;Liquid&rdquo;,&ldquo;Losses&rdquo;,&ldquo;Solid&rdquo;,&ldquo;Gas&rdquo;,&ldquo;Biofuel imports&rdquo;,&ldquo;Biomass imports&rdquo;,&ldquo;Coal imports&rdquo;,&ldquo;Coal&rdquo;,&ldquo;Coal reserves&rdquo;,&ldquo;District heating&rdquo;,&ldquo;Industry&rdquo;,&ldquo;Heating and cooling - commercial&rdquo;,&ldquo;Heating and cooling - homes&rdquo;,&ldquo;Electricity grid&rdquo;,&ldquo;Over generation / exports&rdquo;,&ldquo;H2 conversion&rdquo;,&ldquo;Road transport&rdquo;,&ldquo;Agriculture&rdquo;,&ldquo;Rail transport&rdquo;,&ldquo;Lighting &amp; appliances - commercial&rdquo;,&ldquo;Lighting &amp; appliances - homes&rdquo;,&ldquo;Gas imports&rdquo;,&ldquo;Ngas&rdquo;,&ldquo;Gas reserves&rdquo;,&ldquo;Thermal generation&rdquo;,&ldquo;Geothermal&rdquo;,&ldquo;H2&rdquo;,&ldquo;Hydro&rdquo;,&ldquo;International shipping&rdquo;,&ldquo;Domestic aviation&rdquo;,&ldquo;International aviation&rdquo;,&ldquo;National navigation&rdquo;,&ldquo;Marine algae&rdquo;,&ldquo;Nuclear&rdquo;,&ldquo;Oil imports&rdquo;,&ldquo;Oil&rdquo;,&ldquo;Oil reserves&rdquo;,&ldquo;Other waste&rdquo;,&ldquo;Pumped heat&rdquo;,&ldquo;Solar PV&rdquo;,&ldquo;Solar Thermal&rdquo;,&ldquo;Solar&rdquo;,&ldquo;Tidal&rdquo;,&ldquo;UK land based bioenergy&rdquo;,&ldquo;Wave&rdquo;,&ldquo;Wind&rdquo;]},&ldquo;options&rdquo;:{&ldquo;NodeID&rdquo;:&ldquo;name&rdquo;,&ldquo;NodeGroup&rdquo;:&ldquo;name&rdquo;,&ldquo;LinkGroup&rdquo;:null,&ldquo;colourScale&rdquo;:&ldquo;d3.scaleOrdinal(d3.schemeCategory20);&rdquo;,&ldquo;fontSize&rdquo;:12,&ldquo;fontFamily&rdquo;:null,&ldquo;nodeWidth&rdquo;:30,&ldquo;nodePadding&rdquo;:10,&ldquo;units&rdquo;:&ldquo;TWh&rdquo;,&ldquo;margin&rdquo;:{&ldquo;top&rdquo;:null,&ldquo;right&rdquo;:null,&ldquo;bottom&rdquo;:null,&ldquo;left&rdquo;:null},&ldquo;iterations&rdquo;:32,&ldquo;sinksRight&rdquo;:true}},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]}</script><!--/html_preserve--></p>

<h3 id="radial-networks">Radial networks</h3>

<pre><code class="language-r">URL &lt;- paste0(
        &quot;https://cdn.rawgit.com/christophergandrud/networkD3/&quot;,
        &quot;master/JSONdata//flare.json&quot;)

## Convert to list format
Flare &lt;- jsonlite::fromJSON(URL, simplifyDataFrame = FALSE)

# Use subset of data for more readable diagram
Flare$children = Flare$children[1:3]

radialNetwork(List = Flare, fontSize = 10, opacity = 0.9)
</code></pre>

<p><!--html_preserve--><div id="htmlwidget-912a35f8f3b1d0428690" style="width:672px;height:480px;" class="radialNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-912a35f8f3b1d0428690">{&ldquo;x&rdquo;:{&ldquo;root&rdquo;:{&ldquo;name&rdquo;:&ldquo;flare&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;analytics&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;cluster&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;AgglomerativeCluster&rdquo;,&ldquo;size&rdquo;:3938},{&ldquo;name&rdquo;:&ldquo;CommunityStructure&rdquo;,&ldquo;size&rdquo;:3812},{&ldquo;name&rdquo;:&ldquo;HierarchicalCluster&rdquo;,&ldquo;size&rdquo;:6714},{&ldquo;name&rdquo;:&ldquo;MergeEdge&rdquo;,&ldquo;size&rdquo;:743}]},{&ldquo;name&rdquo;:&ldquo;graph&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;BetweennessCentrality&rdquo;,&ldquo;size&rdquo;:3534},{&ldquo;name&rdquo;:&ldquo;LinkDistance&rdquo;,&ldquo;size&rdquo;:5731},{&ldquo;name&rdquo;:&ldquo;MaxFlowMinCut&rdquo;,&ldquo;size&rdquo;:7840},{&ldquo;name&rdquo;:&ldquo;ShortestPaths&rdquo;,&ldquo;size&rdquo;:5914},{&ldquo;name&rdquo;:&ldquo;SpanningTree&rdquo;,&ldquo;size&rdquo;:3416}]},{&ldquo;name&rdquo;:&ldquo;optimization&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;AspectRatioBanker&rdquo;,&ldquo;size&rdquo;:7074}]}]},{&ldquo;name&rdquo;:&ldquo;animate&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Easing&rdquo;,&ldquo;size&rdquo;:17010},{&ldquo;name&rdquo;:&ldquo;FunctionSequence&rdquo;,&ldquo;size&rdquo;:5842},{&ldquo;name&rdquo;:&ldquo;interpolate&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;ArrayInterpolator&rdquo;,&ldquo;size&rdquo;:1983},{&ldquo;name&rdquo;:&ldquo;ColorInterpolator&rdquo;,&ldquo;size&rdquo;:2047},{&ldquo;name&rdquo;:&ldquo;DateInterpolator&rdquo;,&ldquo;size&rdquo;:1375},{&ldquo;name&rdquo;:&ldquo;Interpolator&rdquo;,&ldquo;size&rdquo;:8746},{&ldquo;name&rdquo;:&ldquo;MatrixInterpolator&rdquo;,&ldquo;size&rdquo;:2202},{&ldquo;name&rdquo;:&ldquo;NumberInterpolator&rdquo;,&ldquo;size&rdquo;:1382},{&ldquo;name&rdquo;:&ldquo;ObjectInterpolator&rdquo;,&ldquo;size&rdquo;:1629},{&ldquo;name&rdquo;:&ldquo;PointInterpolator&rdquo;,&ldquo;size&rdquo;:1675},{&ldquo;name&rdquo;:&ldquo;RectangleInterpolator&rdquo;,&ldquo;size&rdquo;:2042}]},{&ldquo;name&rdquo;:&ldquo;ISchedulable&rdquo;,&ldquo;size&rdquo;:1041},{&ldquo;name&rdquo;:&ldquo;Parallel&rdquo;,&ldquo;size&rdquo;:5176},{&ldquo;name&rdquo;:&ldquo;Pause&rdquo;,&ldquo;size&rdquo;:449},{&ldquo;name&rdquo;:&ldquo;Scheduler&rdquo;,&ldquo;size&rdquo;:5593},{&ldquo;name&rdquo;:&ldquo;Sequence&rdquo;,&ldquo;size&rdquo;:5534},{&ldquo;name&rdquo;:&ldquo;Transition&rdquo;,&ldquo;size&rdquo;:9201},{&ldquo;name&rdquo;:&ldquo;Transitioner&rdquo;,&ldquo;size&rdquo;:19975},{&ldquo;name&rdquo;:&ldquo;TransitionEvent&rdquo;,&ldquo;size&rdquo;:1116},{&ldquo;name&rdquo;:&ldquo;Tween&rdquo;,&ldquo;size&rdquo;:6006}]},{&ldquo;name&rdquo;:&ldquo;data&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;converters&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Converters&rdquo;,&ldquo;size&rdquo;:721},{&ldquo;name&rdquo;:&ldquo;DelimitedTextConverter&rdquo;,&ldquo;size&rdquo;:4294},{&ldquo;name&rdquo;:&ldquo;GraphMLConverter&rdquo;,&ldquo;size&rdquo;:9800},{&ldquo;name&rdquo;:&ldquo;IDataConverter&rdquo;,&ldquo;size&rdquo;:1314},{&ldquo;name&rdquo;:&ldquo;JSONConverter&rdquo;,&ldquo;size&rdquo;:2220}]},{&ldquo;name&rdquo;:&ldquo;DataField&rdquo;,&ldquo;size&rdquo;:1759},{&ldquo;name&rdquo;:&ldquo;DataSchema&rdquo;,&ldquo;size&rdquo;:2165},{&ldquo;name&rdquo;:&ldquo;DataSet&rdquo;,&ldquo;size&rdquo;:586},{&ldquo;name&rdquo;:&ldquo;DataSource&rdquo;,&ldquo;size&rdquo;:3331},{&ldquo;name&rdquo;:&ldquo;DataTable&rdquo;,&ldquo;size&rdquo;:772},{&ldquo;name&rdquo;:&ldquo;DataUtil&rdquo;,&ldquo;size&rdquo;:3322}]}]},&ldquo;options&rdquo;:{&ldquo;height&rdquo;:null,&ldquo;width&rdquo;:null,&ldquo;fontSize&rdquo;:10,&ldquo;fontFamily&rdquo;:&ldquo;serif&rdquo;,&ldquo;linkColour&rdquo;:&ldquo;#ccc&rdquo;,&ldquo;nodeColour&rdquo;:&ldquo;#fff&rdquo;,&ldquo;nodeStroke&rdquo;:&ldquo;steelblue&rdquo;,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;margin&rdquo;:{&ldquo;top&rdquo;:null,&ldquo;right&rdquo;:null,&ldquo;bottom&rdquo;:null,&ldquo;left&rdquo;:null},&ldquo;opacity&rdquo;:0.9}},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]}</script><!--/html_preserve--></p>

<pre><code class="language-r">diagonalNetwork(List = Flare, fontSize = 10, opacity = 0.9)
</code></pre>

<p><!--html_preserve--><div id="htmlwidget-9c36c7b42037bea7284c" style="width:672px;height:480px;" class="diagonalNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-9c36c7b42037bea7284c">{&ldquo;x&rdquo;:{&ldquo;root&rdquo;:{&ldquo;name&rdquo;:&ldquo;flare&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;analytics&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;cluster&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;AgglomerativeCluster&rdquo;,&ldquo;size&rdquo;:3938},{&ldquo;name&rdquo;:&ldquo;CommunityStructure&rdquo;,&ldquo;size&rdquo;:3812},{&ldquo;name&rdquo;:&ldquo;HierarchicalCluster&rdquo;,&ldquo;size&rdquo;:6714},{&ldquo;name&rdquo;:&ldquo;MergeEdge&rdquo;,&ldquo;size&rdquo;:743}]},{&ldquo;name&rdquo;:&ldquo;graph&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;BetweennessCentrality&rdquo;,&ldquo;size&rdquo;:3534},{&ldquo;name&rdquo;:&ldquo;LinkDistance&rdquo;,&ldquo;size&rdquo;:5731},{&ldquo;name&rdquo;:&ldquo;MaxFlowMinCut&rdquo;,&ldquo;size&rdquo;:7840},{&ldquo;name&rdquo;:&ldquo;ShortestPaths&rdquo;,&ldquo;size&rdquo;:5914},{&ldquo;name&rdquo;:&ldquo;SpanningTree&rdquo;,&ldquo;size&rdquo;:3416}]},{&ldquo;name&rdquo;:&ldquo;optimization&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;AspectRatioBanker&rdquo;,&ldquo;size&rdquo;:7074}]}]},{&ldquo;name&rdquo;:&ldquo;animate&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Easing&rdquo;,&ldquo;size&rdquo;:17010},{&ldquo;name&rdquo;:&ldquo;FunctionSequence&rdquo;,&ldquo;size&rdquo;:5842},{&ldquo;name&rdquo;:&ldquo;interpolate&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;ArrayInterpolator&rdquo;,&ldquo;size&rdquo;:1983},{&ldquo;name&rdquo;:&ldquo;ColorInterpolator&rdquo;,&ldquo;size&rdquo;:2047},{&ldquo;name&rdquo;:&ldquo;DateInterpolator&rdquo;,&ldquo;size&rdquo;:1375},{&ldquo;name&rdquo;:&ldquo;Interpolator&rdquo;,&ldquo;size&rdquo;:8746},{&ldquo;name&rdquo;:&ldquo;MatrixInterpolator&rdquo;,&ldquo;size&rdquo;:2202},{&ldquo;name&rdquo;:&ldquo;NumberInterpolator&rdquo;,&ldquo;size&rdquo;:1382},{&ldquo;name&rdquo;:&ldquo;ObjectInterpolator&rdquo;,&ldquo;size&rdquo;:1629},{&ldquo;name&rdquo;:&ldquo;PointInterpolator&rdquo;,&ldquo;size&rdquo;:1675},{&ldquo;name&rdquo;:&ldquo;RectangleInterpolator&rdquo;,&ldquo;size&rdquo;:2042}]},{&ldquo;name&rdquo;:&ldquo;ISchedulable&rdquo;,&ldquo;size&rdquo;:1041},{&ldquo;name&rdquo;:&ldquo;Parallel&rdquo;,&ldquo;size&rdquo;:5176},{&ldquo;name&rdquo;:&ldquo;Pause&rdquo;,&ldquo;size&rdquo;:449},{&ldquo;name&rdquo;:&ldquo;Scheduler&rdquo;,&ldquo;size&rdquo;:5593},{&ldquo;name&rdquo;:&ldquo;Sequence&rdquo;,&ldquo;size&rdquo;:5534},{&ldquo;name&rdquo;:&ldquo;Transition&rdquo;,&ldquo;size&rdquo;:9201},{&ldquo;name&rdquo;:&ldquo;Transitioner&rdquo;,&ldquo;size&rdquo;:19975},{&ldquo;name&rdquo;:&ldquo;TransitionEvent&rdquo;,&ldquo;size&rdquo;:1116},{&ldquo;name&rdquo;:&ldquo;Tween&rdquo;,&ldquo;size&rdquo;:6006}]},{&ldquo;name&rdquo;:&ldquo;data&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;converters&rdquo;,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Converters&rdquo;,&ldquo;size&rdquo;:721},{&ldquo;name&rdquo;:&ldquo;DelimitedTextConverter&rdquo;,&ldquo;size&rdquo;:4294},{&ldquo;name&rdquo;:&ldquo;GraphMLConverter&rdquo;,&ldquo;size&rdquo;:9800},{&ldquo;name&rdquo;:&ldquo;IDataConverter&rdquo;,&ldquo;size&rdquo;:1314},{&ldquo;name&rdquo;:&ldquo;JSONConverter&rdquo;,&ldquo;size&rdquo;:2220}]},{&ldquo;name&rdquo;:&ldquo;DataField&rdquo;,&ldquo;size&rdquo;:1759},{&ldquo;name&rdquo;:&ldquo;DataSchema&rdquo;,&ldquo;size&rdquo;:2165},{&ldquo;name&rdquo;:&ldquo;DataSet&rdquo;,&ldquo;size&rdquo;:586},{&ldquo;name&rdquo;:&ldquo;DataSource&rdquo;,&ldquo;size&rdquo;:3331},{&ldquo;name&rdquo;:&ldquo;DataTable&rdquo;,&ldquo;size&rdquo;:772},{&ldquo;name&rdquo;:&ldquo;DataUtil&rdquo;,&ldquo;size&rdquo;:3322}]}]},&ldquo;options&rdquo;:{&ldquo;height&rdquo;:null,&ldquo;width&rdquo;:null,&ldquo;fontSize&rdquo;:10,&ldquo;fontFamily&rdquo;:&ldquo;serif&rdquo;,&ldquo;linkColour&rdquo;:&ldquo;#ccc&rdquo;,&ldquo;nodeColour&rdquo;:&ldquo;#fff&rdquo;,&ldquo;nodeStroke&rdquo;:&ldquo;steelblue&rdquo;,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;margin&rdquo;:{&ldquo;top&rdquo;:null,&ldquo;right&rdquo;:null,&ldquo;bottom&rdquo;:null,&ldquo;left&rdquo;:null},&ldquo;opacity&rdquo;:0.9}},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]}</script><!--/html_preserve--></p>

<h3 id="dendro-networks">Dendro networks</h3>

<pre><code class="language-r">hc &lt;- hclust(dist(USArrests), &quot;ave&quot;)

dendroNetwork(hc, height = 600)
</code></pre>

<p><!--html_preserve--><div id="htmlwidget-a7eb09b5574d60be6cf8" style="width:800px;height:600px;" class="dendroNetwork html-widget"></div>
<script type="application/json" data-for="htmlwidget-a7eb09b5574d60be6cf8">{&ldquo;x&rdquo;:{&ldquo;root&rdquo;:{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:152.313999380806,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:77.6050243110769,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:38.5279119600323,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Florida&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;North Carolina&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:44.283921672634,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:28.0122112970931,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;California&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:15.4531200289137,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Maryland&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:13.8960426021224,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Arizona&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;New Mexico&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:39.3946331306859,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:26.3634282396782,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:16.8914988216046,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Delaware&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:15.4544491975612,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Alabama&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Louisiana&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:18.4173313943456,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:6.23698645180507,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Illinois&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;New York&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:13.2973681606549,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Michigan&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Nevada&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:28.0958028692397,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Alaska&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:21.1671915945408,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Mississippi&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;South Carolina&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]}]}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:89.232093175428,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:44.8379332309712,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:26.7137768982926,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:16.425489079327,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Washington&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:12.8780996471237,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Oregon&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:10.7367388186717,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Wyoming&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:7.35527021937332,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Oklahoma&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Virginia&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:22.5959782848049,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Rhode Island&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:11.4564392373896,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Massachusetts&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;New Jersey&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:29.0541950311957,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:20.1984786527384,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Missouri&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:12.6142776249772,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Arkansas&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Tennessee&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:23.9721425454471,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Georgia&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:14.5010344458594,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Colorado&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Texas&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:54.7468308127929,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:20.5985066190634,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:15.0261072725121,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Idaho&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:12.4386917531679,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Nebraska&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:3.83405790253616,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Kentucky&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Montana&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:15.1228971665018,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:6.63777071011044,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Ohio&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Utah&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:13.3522599960709,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:3.9293765408777,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Indiana&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Kansas&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:8.02745289615579,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Connecticut&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Pennsylvania&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:41.0947650735165,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Hawaii&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:33.1178150270327,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:10.7711752200225,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;West Virginia&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:8.5375640553966,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Maine&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;South Dakota&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:27.7799038518465,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:13.0449223838243,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;North Dakota&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;Vermont&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:18.993397505721,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Minnesota&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:10.1842178699022,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Wisconsin&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;&rdquo;,&ldquo;y&rdquo;:2.29128784747792,&ldquo;children&rdquo;:[{&ldquo;name&rdquo;:&ldquo;Iowa&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9},{&ldquo;name&rdquo;:&ldquo;New Hampshire&rdquo;,&ldquo;y&rdquo;:0,&ldquo;textColour&rdquo;:&ldquo;#111&rdquo;,&ldquo;textOpacity&rdquo;:0.9}]}]}]}]}]}]}]}]}]},&ldquo;options&rdquo;:{&ldquo;height&rdquo;:600,&ldquo;width&rdquo;:800,&ldquo;fontSize&rdquo;:10,&ldquo;linkColour&rdquo;:&ldquo;#ccc&rdquo;,&ldquo;nodeColour&rdquo;:&ldquo;#fff&rdquo;,&ldquo;nodeStroke&rdquo;:&ldquo;steelblue&rdquo;,&ldquo;textRotate&rdquo;:0,&ldquo;margins&rdquo;:{&ldquo;top&rdquo;:40,&ldquo;right&rdquo;:150,&ldquo;bottom&rdquo;:40,&ldquo;left&rdquo;:40},&ldquo;opacity&rdquo;:0.9,&ldquo;linkType&rdquo;:&ldquo;elbow&rdquo;,&ldquo;treeOrientation&rdquo;:&ldquo;horizontal&rdquo;,&ldquo;zoom&rdquo;:false}},&ldquo;evals&rdquo;:[],&ldquo;jsHooks&rdquo;:[]}</script><!--/html_preserve--></p>

<h1 id="conclusion">Conclusion</h1>

<p>This post has attempted to give a general introduction to creating and plotting network type objects in R using the <code>network</code>, <code>igraph</code>, <code>tidygraph</code>, and <code>ggraph</code> packages for static plots and <code>visNetwork</code> and <code>networkD3</code> for interactive plots.</p>

<p>The best introduction to networks that I have found for the uninitiated is <a href="http://kateto.net/network-visualization">Katya Ognyanova&rsquo;s Network Visualization with R</a>. This presents both a helpful introduction to the visual aspects of networks and a more in depth tutorial on creating network plots in R.</p>
<div class="footnotes">

<hr />

<ol>
<li id="fn:1">Addopted from <a href="https://www.jessesadler.com/">https://www.jessesadler.com/</a>
 <a class="footnote-return" href="#fnref:1"><sup>[return]</sup></a></li>
<li id="fn:2">For a good description of the <code>network</code> object class, including a discussion of its relationship to the <code>igraph</code> object class, see <a href="https://www.jstatsoft.org/article/view/v024i02">Carter Butts, &ldquo;<code>network</code>: A Package for Managing Relational Data in R&rdquo;, <em>Journal of Statistical Software</em>, 24 (2008): 1–36</a>
 <a class="footnote-return" href="#fnref:2"><sup>[return]</sup></a></li>
<li id="fn:3">This is the specific structure expected by <code>visNetwork</code>, while also conforming to the general expectations of the other packages.
 <a class="footnote-return" href="#fnref:3"><sup>[return]</sup></a></li>
<li id="fn:4">For a good description of the <code>networkD3</code> object class, see <a href="https://www.jstatsoft.org/article/view/v024i02">this website</a>
 <a class="footnote-return" href="#fnref:4"><sup>[return]</sup></a></li>
</ol>
</div>    
        </div>
    </section>

    <footer class="post-full-footer">
      <section class="author-card">
        <img class="author-profile-image" src="/img/ghost-icon.png" alt="Author" />
        <section class="author-card-content">
            <h4 class="author-card-name"><a href="/">DannyJRa</a></h4>
                <p>Your description here</p>
        </section>
      </section>
    </footer>
</article>
    
    
    

<div id="disqus_thread"></div>
<script>




var disqus_config = function () {
this.page.url = "\/post\/network_analysis\/";  
this.page.identifier = "\/post\/network_analysis\/"; 
};

(function() { 
var d = document, s = d.createElement('script');
s.src = 'https://blog-dannyrasch-com.disqus.com.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


  </div>
</main>


<aside class="read-next outer">
  <div class="inner">
    <div class="read-next-feed">      
      
<article class="read-next-card" 
            style="background-image: url(/img/blog-cover.jpg);" >
    <header class="read-next-card-header">
        <small class="read-next-card-header-sitetitle">&mdash; Blog &mdash;</small>
        
        <h3 class="read-next-card-header-title"><a href="/tags/viz/">#Viz</a></h3>
    </header>
    <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
    </div>

    <div class="read-next-card-content">
      
        <ul>
          <li><a href="/post/github_rest_api5/">Blog JSON5</a></li>            
        
          <li><a href="/post/docker-postgresql/">Docker PostGreSQL</a></li>            
        
          <li><a href="/post/github_rest_api3/">R packages</a></li>            
        
                      
        
          <li><a href="/post/github_rest_api4/">Blog JSON4</a></li>            
        </ul>
    </div>
    <footer class="read-next-card-footer">
      
        <a href="/tags/viz/">See all related posts →</a>
    </footer>
</article>


      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="/post/ml_caret/">
      <div class="post-card-image" style="background-image: url(/img/01_blog_titleBLOG.png)"></div>
    </a>
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="/post/ml_caret/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #ML  </span>
              
              <h2 class="post-card-title">ML with Caret</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>Add summary desdcription of blog
 ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="/img/ghost-icon.png" alt="Author" />
          <span class="post-card-author"><a href="/">DannyJRa</a></span>
      </footer>
    </div>
</article>
      
      
      <article class="post-card post"> 
    
    <a class="post-card-image-link" href="/post/github_rest_api3/">
      <div class="post-card-image" style="background-image: url(/img/04_cover_BLOG.jpg)"></div>
    </a>
    

    <div class="post-card-content">
      <a class="post-card-content-link" href="/post/github_rest_api3/">
          <header class="post-card-header">
              <span class="post-card-tags">
              #Set-up  </span>
              
              <h2 class="post-card-title">R packages</h2>
          </header>
          <section class="post-card-excerpt">
              
                <p>Original post here: https://dannyjra.github.io/04_R_Packages/01_blog_caret_Tut.html
Add summary desdcription of blog
 ...  </p>
              
          </section>
      </a>

      <footer class="post-card-meta">
          <img class="author-profile-image" src="/img/ghost-icon.png" alt="Author" />
          <span class="post-card-author"><a href="/">DannyJRa</a></span>
      </footer>
    </div>
</article>
      
    </div>
  </div>
</aside>

<div class="floating-header">
  <div class="floating-header-logo">
    <a href="/">
      <img src="/dr_small_png.png" alt="" />
      <span></span>
    </a>
  </div>
  <span class="floating-header-divider">&mdash;</span>
  <div class="floating-header-title">Network Analysis</div>
  <div class="floating-header-share">
    <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
     <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/></svg>
    </div>
    
    <a class="floating-header-share-tw" href="https://twitter.com/share?text=Network%20Analysis&amp;url=%2fpost%2fnetwork_analysis%2f"
          onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
      </a>
      <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=%2fpost%2fnetwork_analysis%2f"
          onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
      </a>
  </div>

  <progress class="progress" value="0">
    <div class="progress-container">
      <span class="progress-bar"></span>
    </div>
  </progress>
</div>



<footer class="site-footer outer">
  <div class="site-footer-content inner">
    <section class="copyright" style="line-height: 1.3em;">
      <a href="/">DJR</a> © 2019 <br>
      <span style="font-size: 0.8em; color: #555;">Hugo port of <a href="https://github.com/TryGhost/Casper">Casper 2.1.7</a> by <a href="https://www.telematika.org">EM</a></span>
    </section>
    <nav class="site-footer-nav">
        <a href="/">Latest Posts</a>
        
        <a href="https://twitter.com/Insider_DJR" target="_blank" rel="noopener">Twitter</a>
        <a href="https://github.com/DannyJRa" target="_blank" rel="noopener">Github</a>
        <a href="https://www.linkedin.com/in/danny-rasch-2a22771b" target="_blank" rel="noopener">LinkedIn</a>
        <a href="https://medium.com/@dannjrasch" target="_blank" rel="noopener">Medium</a>
    </nav>  
  </div>
</footer>

</div>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript" src="/js/jquery.fitvids.js"></script>

<script>hljs.initHighlightingOnLoad();</script>



    <script>





$(document).ready(function () {
    
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>
</body></html>
